
<html>
	<head>
		<style type="text/css">
			td, th {
			  width: 4rem;
			  height: 2rem;
			  border: 1px solid #ccc;
			  text-align: center;
			}
			th {
			  background: lightblue;
			  border-color: white;
			}
		</style>
	</head>
	<body>
		<script>
			function loadXMLDoc(dname)
			{
				if (window.XMLHttpRequest)
				{
					xhttp = new XMLHttpRequest();
				}
				else
				{
					xhttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				xhttp.open("GET", dname, false);
				xhttp.send();
				return xhttp.responseXML;
			} 

			// xmlDoc -> XML DOM
			xmlDoc = loadXMLDoc("books.xml");

			var x = xmlDoc.getElementsByTagName("title");


			// document -> HTML DOM
			var i = 0;
			document.write("<table>");
			document.write("<thead><tr>");
			document.write("<th>Title</th>");
			document.write("</tr></thead>");
			
			
			while(x[i])
			{
				document.write('<tr>');
				document.write('<td>');
				document.write(x[i].childNodes[0].nodeValue);
				document.write('</td>');
				document.write('</tr>');
				
				i++;
			}

			document.write('</table>');
			
			
			var x = xmlDoc.getElementsByTagName("book");

			var i = 0;
			document.write("<br/><br/><table>");
			document.write("<thead><tr>");
			document.write("<th>Title</th>");
			document.write("</tr></thead>");
			
			while(x[i])
			{
				if (x[i].getElementsByTagName("year")[0].childNodes[0].nodeValue == '2003'){
					document.write('<tr>');
					document.write('<td>');
					document.write(x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue);
					document.write('</td>');
					document.write('</tr>');
				}
				
				i++;
			}
			
			document.write('</table>');
			
			document.write("<br/><br/><table>");
			document.write("<thead><tr>");
			document.write("<th>Title</th>");
			document.write("</tr></thead>");
			
			x = xmlDoc.getElementsByTagName('book');

			for (i=0; i<x.length; i++)
			{
				document.write('<tr>');
				document.write('<td>');
				document.write(x[i].getAttribute('category'));
				document.write('</td>');
				document.write('</tr>');
			} 
			
			document.write('</table>');
		</script>
	</body>
</html>